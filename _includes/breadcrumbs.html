{% assign post_type = "" %}
{% assign post_path = "" %}
{% if page.collection == "textos" %}
  {% if page.categories contains "nonfiction" %}
    {% assign post_type = "Non-fiction" %}
    {% assign post_path = "/nonfiction" %}
  {% else %}
    {% assign post_type = "Fiction" %}
    {% assign post_path = "/fiction" %}
  {% endif %}
{% elsif page.collection == "jogos" %}
  {% assign post_type = "Games" %}
  {% assign post_path = "/games" %}
{% endif %}

<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a href="{{ '/' | relative_url }}" itemprop="item"><span itemprop="name">{{ site.data.ui-text[site.locale].breadcrumb_home_label | default: "Home" }}</span></a>
      <meta itemprop="position" content="1" />
    </li>
    <span class="sep">{{ site.data.ui-text[site.locale].breadcrumb_separator | default: "/" }}</span>
    
   <!-- Forçar o breadcrumb da coleção -->
    {% if post_type != "" %}
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a href="{{ post_path | relative_url }}" itemprop="item">
          <span itemprop="name">{{ post_type }}</span>
        </a>
        <meta itemprop="position" content="2" />
      </li>
      <span class="sep">{{ site.data.ui-text[site.locale].breadcrumb_separator | default: "/" }}</span>
    {% else %}
      <!-- Fallback for other collections or default case -->
      {% if page.url contains '/nonfiction/' %}
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="{{ '/nonfiction' | relative_url }}" itemprop="item">
            <span itemprop="name">Non-fiction</span>
          </a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">{{ site.data.ui-text[site.locale].breadcrumb_separator | default: "/" }}</span>
      {% elsif page.url contains '/fiction/' %}
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="{{ '/fiction' | relative_url }}" itemprop="item">
            <span itemprop="name">Fiction</span>
          </a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">{{ site.data.ui-text[site.locale].breadcrumb_separator | default: "/" }}</span>
      {% elsif page.url contains '/games/' %}
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="{{ '/games' | relative_url }}" itemprop="item">
            <span itemprop="name">Games</span>
          </a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">{{ site.data.ui-text[site.locale].breadcrumb_separator | default: "/" }}</span>
      {% endif %}
    {% endif %}

    <li class="current">{{ page.title }}</li>
  </ol>
</nav>
